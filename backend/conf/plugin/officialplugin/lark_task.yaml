components:
  examples:
    create_task:
      value:
        ReqExample:
          completed_at: "2024-07-19 20:50:00"
          description: coze description
          end_time: "2024-07-12 07:05:00"
          start_time: "2024-07-01 07:00:00"
          summary: coze test
        RespExample:
          code: 0
          data:
            completed_at: "2024-07-19 20:50:00"
            created_at: "2024-07-26 11:55:47"
            creator:
              id: ou_5e897d2ed8edb781b763bca4533325a7
              type: user
            description: coze description
            end_time: "2024-07-12 07:05:00"
            guid: 047f4c59-6872-4f0e-9207-d38b76c13c69
            is_end_time_all_day: false
            is_start_time_all_day: false
            mode: 2
            parent_task_guid: ""
            repeat_rule: ""
            source: 7
            start_time: "2024-07-01 07:00:00"
            status: done
            subtask_count: 0
            summary: coze test
            task_id: t21273278
            url: https://applink.larkoffice.com/client/todo/detail?guid=047f4c59-6872-4f0e-9207-d38b76c13c69&suite_entity_num=t21273278
          log_id: 20240726115547E17B572B556960663546
          msg: ""
    delete_task:
      value:
        ReqExample:
          task_guid: https://applink.feishu-pre.net/client/todo/detail?guid=4759ed3f-879d-4951-b2e2-ee7222a177c6&suite_entity_num=t21700213
        RespExample:
          code: 0
          log_id: 20240816011043A9D72CD942E1CF1D2024
          msg: ""
    list_tasks:
      value:
        ReqExample:
          page_size: 10
          user_id_type: open_id
        RespExample:
          code: 0
          data:
            has_more: true
            items:
              - created_at: "2024-07-25 10:40:15"
                creator:
                  id: ou_5c7a57b2dc2f16f83d16ef82827159db
                  type: user
                description: ""
                guid: cc2692a7-12df-4ed7-8e84-414d6e59e0d8
                members:
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_5c7a57b2dc2f16f83d16ef82827159db
                    role: follower
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: todo
                subtask_count: 0
                summary: '星座乐sla承诺保障确认 '
                task_id: t21241592
                updated_at: "2024-07-25 10:40:16"
                url: https://applink.larkoffice.com/client/todo/detail?guid=cc2692a7-12df-4ed7-8e84-414d6e59e0d8&suite_entity_num=t21241592
              - created_at: "2024-07-25 10:39:45"
                creator:
                  id: ou_5c7a57b2dc2f16f83d16ef82827159db
                  type: user
                description: ""
                guid: 96591dd2-c5b7-4d67-88d7-d02e88d9f6dc
                members:
                  - id: ou_5c7a57b2dc2f16f83d16ef82827159db
                    role: assignee
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_5c7a57b2dc2f16f83d16ef82827159db
                    role: follower
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: todo
                subtask_count: 0
                summary: '网关层到 插件实现层的超时排查，捞一批数据 '
                task_id: t21241571
                updated_at: "2024-07-25 10:40:11"
                url: https://applink.larkoffice.com/client/todo/detail?guid=96591dd2-c5b7-4d67-88d7-d02e88d9f6dc&suite_entity_num=t21241571
              - completed_at: "2024-07-22 10:54:13"
                created_at: "2024-07-11 10:41:54"
                creator:
                  id: ou_a86ac3d5f703bb985dbe5906aeaf30a4
                  type: user
                description: ""
                end_time: "2024-07-19 18:00:00"
                guid: fc9a2caf-0d68-4a87-93df-e496b6c5b509
                is_end_time_all_day: false
                members:
                  - id: ou_a86ac3d5f703bb985dbe5906aeaf30a4
                    role: assignee
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_5c7a57b2dc2f16f83d16ef82827159db
                    role: assignee
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                  - id: ou_5c7a57b2dc2f16f83d16ef82827159db
                    role: follower
                    type: user
                  - id: ou_a86ac3d5f703bb985dbe5906aeaf30a4
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: done
                subtask_count: 0
                summary: '携程、zhangshanggaokao_school_choose、xinlangcaijing_SearchStockData 接入枚举值sdk '
                task_id: t20957272
                updated_at: "2024-07-22 10:54:13"
                url: https://applink.larkoffice.com/client/todo/detail?guid=fc9a2caf-0d68-4a87-93df-e496b6c5b509&suite_entity_num=t20957272
              - completed_at: "2024-07-18 10:31:35"
                created_at: "2024-07-11 10:33:50"
                creator:
                  id: ou_a86ac3d5f703bb985dbe5906aeaf30a4
                  type: user
                description: ""
                end_time: "2024-07-16 20:30:00"
                guid: 8b5425ec-9f2a-43bd-a3ab-01912f50282b
                is_end_time_all_day: false
                members:
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                  - id: ou_a86ac3d5f703bb985dbe5906aeaf30a4
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: done
                subtask_count: 0
                summary: '类案搜索和PM交流一下 '
                task_id: t20956993
                updated_at: "2024-07-18 10:31:35"
                url: https://applink.larkoffice.com/client/todo/detail?guid=8b5425ec-9f2a-43bd-a3ab-01912f50282b&suite_entity_num=t20956993
              - completed_at: "2024-07-11 10:34:13"
                created_at: "2024-07-09 10:42:12"
                creator:
                  id: ou_a86ac3d5f703bb985dbe5906aeaf30a4
                  type: user
                description: ""
                end_time: "2024-07-09 21:00:00"
                guid: ce1e6ab4-3dec-4976-b4f2-fb76429d8bd0
                is_end_time_all_day: false
                members:
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_a86ac3d5f703bb985dbe5906aeaf30a4
                    role: follower
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: done
                subtask_count: 0
                summary: 类案搜索和bd确认枚举值， 7.03  sdk改造
                task_id: t20901020
                updated_at: "2024-07-11 10:34:13"
                url: https://applink.larkoffice.com/client/todo/detail?guid=ce1e6ab4-3dec-4976-b4f2-fb76429d8bd0&suite_entity_num=t20901020
              - completed_at: "2024-07-16 10:32:47"
                created_at: "2024-07-09 10:41:41"
                creator:
                  id: ou_a86ac3d5f703bb985dbe5906aeaf30a4
                  type: user
                description: ""
                end_time: "2024-07-16 18:00:00"
                guid: a0ef8950-bf89-42b9-aa33-4eab542a8736
                is_end_time_all_day: false
                members:
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_a86ac3d5f703bb985dbe5906aeaf30a4
                    role: follower
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: done
                subtask_count: 0
                summary: '飞书云文档切多租户， 7.03  '
                task_id: t20900998
                updated_at: "2024-07-16 10:32:48"
                url: https://applink.larkoffice.com/client/todo/detail?guid=a0ef8950-bf89-42b9-aa33-4eab542a8736&suite_entity_num=t20900998
              - completed_at: "2024-07-02 11:13:40"
                created_at: "2024-06-27 10:44:05"
                creator:
                  id: ou_5c7a57b2dc2f16f83d16ef82827159db
                  type: user
                description: ""
                end_time: "2024-06-27 18:00:00"
                guid: 7c672479-4745-43e5-8d22-1acffc399793
                is_end_time_all_day: false
                members:
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_5c7a57b2dc2f16f83d16ef82827159db
                    role: follower
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: done
                subtask_count: 0
                summary: 'docmaker 确认成功率数据，已确认，请求超长被截断 '
                task_id: t20673056
                updated_at: "2024-07-02 11:13:40"
                url: https://applink.larkoffice.com/client/todo/detail?guid=7c672479-4745-43e5-8d22-1acffc399793&suite_entity_num=t20673056
              - completed_at: "2024-07-02 10:37:17"
                created_at: "2024-06-27 10:43:24"
                creator:
                  id: ou_5c7a57b2dc2f16f83d16ef82827159db
                  type: user
                description: ""
                end_time: "2024-06-27 18:00:00"
                guid: 5ac20403-8231-4ae4-8d5c-b87aa51b09a0
                is_end_time_all_day: false
                members:
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_5c7a57b2dc2f16f83d16ef82827159db
                    role: follower
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: done
                subtask_count: 0
                summary: webpilot 确定服务水位 ，已确认95%
                task_id: t20673028
                updated_at: "2024-07-02 10:37:17"
                url: https://applink.larkoffice.com/client/todo/detail?guid=5ac20403-8231-4ae4-8d5c-b87aa51b09a0&suite_entity_num=t20673028
              - completed_at: "2024-07-02 10:36:45"
                created_at: "2024-06-27 10:41:13"
                creator:
                  id: ou_5c7a57b2dc2f16f83d16ef82827159db
                  type: user
                description: ""
                end_time: "2024-06-27 18:00:00"
                guid: 51680ba5-98b4-47b7-acdd-c32faa09f682
                is_end_time_all_day: false
                members:
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_5c7a57b2dc2f16f83d16ef82827159db
                    role: follower
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: done
                subtask_count: 0
                summary: '水滴补充示例 '
                task_id: t20672927
                updated_at: "2024-07-02 10:36:46"
                url: https://applink.larkoffice.com/client/todo/detail?guid=51680ba5-98b4-47b7-acdd-c32faa09f682&suite_entity_num=t20672927
              - completed_at: "2024-07-02 10:36:41"
                created_at: "2024-06-25 10:55:35"
                creator:
                  id: ou_5c7a57b2dc2f16f83d16ef82827159db
                  type: user
                description: ""
                end_time: "2024-06-27 18:00:00"
                guid: c759806c-fc83-46ba-be19-ac51b83c44bf
                is_end_time_all_day: false
                members:
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: assignee
                    type: user
                  - id: ou_5c7a57b2dc2f16f83d16ef82827159db
                    role: follower
                    type: user
                  - id: ou_5e897d2ed8edb781b763bca4533325a7
                    role: follower
                    type: user
                mode: 2
                parent_task_guid: ""
                repeat_rule: ""
                source: 8
                status: done
                subtask_count: 0
                summary: 携程空搜监控、携程XML拉数据监控打点、QA定期巡检插件返回数量https://bytedance.larkoffice.com/docx/XBBQdbP6GodkbuxEjficbTVnnBg，已完成打点监控
                task_id: t20618110
                updated_at: "2024-07-02 10:36:41"
                url: https://applink.larkoffice.com/client/todo/detail?guid=c759806c-fc83-46ba-be19-ac51b83c44bf&suite_entity_num=t20618110
            page_token: CghMaXN0VGFzaxAKGKq.qumOMg--
          log_id: 202407261151512049A4050C50E9677100
          msg: ""
    update_task:
      value:
        ReqExample:
          summary: 修改标题
          task_guid: https://applink.feishu-pre.net/client/todo/detail?guid=42cad8a0-f8c8-4344-9be2-d1d7e8e91b64&suite_entity_num=t21700217
        RespExample:
          code: 0
          data:
            completed_time: ""
            created_at: "2024-08-16 01:12:19"
            description: ""
            end_time: ""
            start_time: ""
            summary: 修改标题
            task_guid: 42cad8a0-f8c8-4344-9be2-d1d7e8e91b64
            updated_at: "2024-08-16 01:33:55"
          log_id: 202408160133553CFD5939E29BDC4ABE5D
info:
  description: |-
    调用飞书开放平台任务相关API，支持以下操作：
    1.创建任务：输入任务标题、开始时间、结束时间等信息创建飞书任务；
    2.更新任务：对飞书任务的任务标题、任务时间等信息做修改；
    3.删除任务：对创建的飞书任务做删除；
    4.列出所有任务：查询用户下单所有飞书任务；
  title: 飞书任务
  version: v1
openapi: 3.0.1
paths:
  /task/create_task:
    post:
      operationId: create_task
      requestBody:
        content:
          application/json:
            schema:
              properties:
                completed_at:
                  description: 任务完成时间，格式：2006-01-02 15:04:05，不填写表示创建一个未完成任务；填写一个具体的时间表示创建一个已完成任务
                  type: string
                description:
                  description: 任务备注
                  type: string
                end_time:
                  description: 任务结束时间，格式：2006-01-02 15:04:05
                  type: string
                start_time:
                  description: 任务开始时间，格式：2006-01-02 15:04:05
                  type: string
                summary:
                  description: 任务标题
                  type: string
              required:
                - summary
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    description: 错误码，非0表示失败
                    type: number
                  data:
                    description: 返回数据
                    properties:
                      completed_at:
                        description: 任务完成时间，格式：2024-07-19 20:50:00
                        type: string
                      created_at:
                        description: 任务创建时间，格式：2024-07-19 20:50:00
                        type: string
                      creator:
                        description: 任务创建者信息
                        properties:
                          id:
                            description: 创建者用户 ID
                            type: string
                          type:
                            description: 创建者类型
                            type: string
                        type: object
                      description:
                        description: 任务描述
                        type: string
                      end_time:
                        description: 任务截止时间，格式：2024-07-19 21:20:00
                        type: string
                      guid:
                        description: 任务guid，任务的唯一ID
                        type: string
                      is_end_time_all_day:
                        description: 结束时间是否截止到一个日期
                        type: boolean
                      is_start_time_all_day:
                        description: 开始时间是否截止到一个日期
                        type: boolean
                      members:
                        description: 成员列表
                        items:
                          description: 成员信息
                          properties:
                            id:
                              description: 成员 ID
                              type: string
                            name:
                              description: 成员名称
                              type: string
                            role:
                              description: 成员角色
                              type: string
                            type:
                              description: 成员类型
                              type: string
                          type: object
                        type: array
                      mode:
                        description: 任务的模式。1 - 会签任务；2 - 或签任务
                        type: integer
                      parent_task_guid:
                        description: 如果当前任务为某个任务的子任务，返回父任务的guid
                        type: string
                      repeat_rule:
                        description: 如果任务为重复任务，返回重复任务的配置
                        type: string
                      source:
                        description: 任务来源
                        type: integer
                      start_time:
                        description: 任务开始时间，格式：2024-07-19 20:20:00
                        type: string
                      status:
                        description: 任务状态，支持"todo"和"done"两种状态
                        type: string
                      subtask_count:
                        description: 该任务的子任务的个数
                        type: integer
                      summary:
                        description: 任务标题
                        type: string
                      task_id:
                        description: 任务界面上的代码
                        type: string
                      url:
                        description: 任务的分享链接
                        type: string
                    type: object
                  log_id:
                    description: 链路追踪 id
                    type: string
                  msg:
                    description: 错误描述
                    type: string
                type: object
          description: new desc
        default:
          description: ""
      summary: 创建飞书任务,根据输入的任务标题、任务时间创建飞书任务
  /task/delete_task:
    delete:
      operationId: delete_task
      requestBody:
        content:
          application/json:
            schema:
              properties:
                task_guid:
                  description: 要删除的任务guid，支持传任务ID和任务链接URL，任务ID 例如：8b5425ec-9f2a-43bd-a3ab-01912f50282b；任务链接url 例如：https://applink.feishu-pre.net/client/todo/detail?guid=8c6bf822-e4da-449a-b82a-dc44020f9be9&suite_entity_num=t21587362
                  type: string
              required:
                - task_guid
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    description: 错误码，非 0 表示失败
                    type: integer
                  log_id:
                    description: 链路追踪 id
                    type: string
                  msg:
                    description: ' 错误描述'
                    type: string
                type: object
          description: new desc
        default:
          description: ""
      summary: 删除飞书任务
  /task/list_tasks:
    get:
      operationId: list_tasks
      parameters:
        - description: 用户 ID 类型
          in: query
          name: user_id_type
          schema:
            default: open_id
            type: string
        - description: 每页的任务数量，取值范围1-100
          in: query
          name: page_size
          schema:
            default: 10
            type: integer
        - description: 查询结果还有更多项时会同时返回新的 page_token，下次遍历可采用该 page_token 获取查询结果
          in: query
          name: page_token
          schema:
            type: string
        - description: 是否按任务完成进行过滤。填写true表示只列出已完成任务；填写false表示只列出未完成任务。不填写表示不过滤。
          in: query
          name: completed
          schema:
            type: boolean
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    description: 错误码，非0表示失败
                    type: integer
                  data:
                    description: 返回数据
                    properties:
                      has_more:
                        description: 是否还有更多项
                        type: boolean
                      items:
                        description: 返回的任务列表
                        items:
                          description: 任务信息
                          properties:
                            completed_at:
                              description: 任务完成的时间，格式：2024-07-19 21:20:00
                              type: string
                            created_at:
                              description: 任务创建时间，格式：2024-07-19 21:20:00
                              type: string
                            creator:
                              description: 任务创建者
                              properties:
                                id:
                                  description: 表示member的id
                                  type: string
                                role:
                                  description: 成员角色
                                  type: string
                                type:
                                  description: 成员的类型
                                  type: string
                              type: object
                            description:
                              description: 任务备注
                              type: string
                            end_time:
                              description: 任务结束时间，格式：2024-07-19 21:20:00
                              type: string
                            guid:
                              description: 任务guid，任务的唯一ID
                              type: string
                            is_end_time_all_day:
                              description: 结束时间是否截止到一个日期
                              type: boolean
                            is_milestone:
                              description: 是否是里程碑任务
                              type: boolean
                            is_start_time_all_day:
                              description: 开始时间是否截止到一个日期
                              type: boolean
                            members:
                              description: 任务成员列表
                              items:
                                description: 成员信息
                                properties:
                                  id:
                                    description: 表示member的id
                                    type: string
                                  role:
                                    description: 成员角色
                                    type: string
                                  type:
                                    description: 成员的类型
                                    type: string
                                type: object
                              type: array
                            mode:
                              description: 任务的模式。1 - 会签任务；2 - 或签任务
                              type: integer
                            parent_task_guid:
                              description: 如果当前任务为某个任务的子任务，返回父任务的guid
                              type: string
                            repeat_rule:
                              description: 如果任务为重复任务，返回重复任务的配置
                              type: string
                            source:
                              description: 任务创建的来源
                              type: integer
                            start_time:
                              description: 任务开始时间，格式：2024-07-19 21:20:00
                              type: string
                            status:
                              description: 任务的状态，支持"todo"和"done"两种状态
                              type: string
                            subtask_count:
                              description: 该任务的子任务个数
                              type: integer
                            summary:
                              description: 任务标题
                              type: string
                            task_id:
                              description: 任务界面上的代码
                              type: string
                            updated_at:
                              description: 任务最后一次更新的时间，格式：2024-07-19 21:20:00
                              type: string
                            url:
                              description: 任务的分享链接
                              type: string
                          type: object
                        type: array
                      page_token:
                        description: 分页标记，当 has_more 为 true 时，会同时返回新的 page_token，否则不返回 page_token
                        type: string
                    type: object
                  log_id:
                    description: 链路追踪 id
                    type: string
                  msg:
                    description: 错误描述
                    type: string
                type: object
          description: new desc
        default:
          description: ""
      summary: 列取飞书任务列表
  /task/update_task:
    patch:
      operationId: update_task
      requestBody:
        content:
          application/json:
            schema:
              properties:
                completed_time:
                  description: 任务完成时间,有传入才更新，格式：2024-08-19 11:20:00
                  type: string
                description:
                  description: 任务描述：如：进行一场需求评审会
                  type: string
                end_time:
                  description: 任务结束时间,有传入才更新，格式：2024-08-15 23:20:00
                  type: string
                start_time:
                  description: 任务开始时间,有传入才更新，格式：2024-08-15 23:00:00
                  type: string
                summary:
                  description: 任务标题，如：需求评审
                  type: string
                task_guid:
                  description: 任务ID，支持 传入任务ID和任务链接URL，任务ID 如：42cad8a0-f8c8-4344-9be2-d1d7e8e91b64；任务链接url 如：https://applink.feishu-pre.net/client/todo/detail?guid=42cad8a0-f8c8-4344-9be2-d1d7e8e91b64&suite_entity_num=t21700217
                  type: string
              required:
                - task_guid
              type: object
        description: new desc
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    description: 错误码，非 0 表示失败
                    type: integer
                  data:
                    description: 任务信息
                    properties:
                      completed_time:
                        description: 任务完成时间，格式：2024-09-17 23:30:00
                        type: string
                      created_at:
                        description: 创建时间，格式：2024-09-17 23:30:00
                        type: string
                      description:
                        description: 任务描述
                        type: string
                      end_time:
                        description: 任务结束时间，格式：2024-08-17 12:00:00
                        type: string
                      start_time:
                        description: 任务开始时间，格式：2024-08-16 10:00:00
                        type: string
                      summary:
                        description: ' 任务标题'
                        type: string
                      task_guid:
                        description: 任务 ID
                        type: string
                      updated_at:
                        description: 更新时间，格式：2024-09-17 23:30:00
                        type: string
                    type: object
                  log_id:
                    description: 链路追踪 id
                    type: string
                  msg:
                    description: 错误描述
                    type: string
                type: object
          description: new desc
        default:
          description: ""
      summary: 更新飞书任务
servers:
  - url: https://lark-plugin-api.solutionsuite.cn/lark-plugin
