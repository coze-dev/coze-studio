# æ™ºèƒ½ä½“æ¨¡æ¿å‘å¸ƒåŠŸèƒ½è®¾è®¡æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**åŠŸèƒ½ç›®æ ‡**: å…è®¸ç”¨æˆ·åœ¨å‘å¸ƒæ™ºèƒ½ä½“æ—¶ï¼Œé€‰æ‹©å°†å…¶å‘å¸ƒä¸ºæ¨¡æ¿ï¼Œä¾›å…¶ä»–ç”¨æˆ·ä½¿ç”¨

**æŠ€æœ¯å¯è¡Œæ€§**: âœ… å®Œå…¨å¯è¡Œï¼ŒåŸºäºç°æœ‰æ¶æ„æ— éœ€å¤§æ”¹åŠ¨

**å®æ–½ç­–ç•¥**: åˆ†ä¸‰ä¸ªé˜¶æ®µæ¸è¿›å¼å®ç°

## ğŸ” ç°æœ‰æ¶æ„åˆ†æ

### æ•°æ®ç»“æ„å®Œæ•´æ€§
- âœ… `template` è¡¨å·²å­˜åœ¨ï¼Œæ”¯æŒå­˜å‚¨æ¨¡æ¿æ•°æ®
- âœ… `single_agent_draft` å’Œ `single_agent_version` æœ‰å®Œæ•´çš„æ™ºèƒ½ä½“æ•°æ®
- âœ… å¯¹è±¡å­˜å‚¨å·²æ”¯æŒå›¾ç‰‡èµ„æºç®¡ç†

### APIæ¶æ„æˆç†Ÿåº¦
- âœ… å·²æœ‰å®Œæ•´çš„æ¨¡æ¿å±•ç¤ºAPI (`/api/marketplace/product/list`)
- âœ… æ™ºèƒ½ä½“å‘å¸ƒæµç¨‹æˆç†Ÿ (`PublishAgent`)
- âœ… æ”¯æŒThrift IDLä»£ç ç”Ÿæˆ

### å‰ç«¯UIåŸºç¡€
- âœ… æ™ºèƒ½ä½“å‘å¸ƒé¡µé¢å·²å­˜åœ¨
- âœ… æ¨¡æ¿å±•ç¤ºé¡µé¢å·²å®ç°

## ğŸ¯ ç¬¬ä¸€é˜¶æ®µå®ç°æ–¹æ¡ˆï¼ˆåŸºç¡€åŠŸèƒ½ï¼‰

### 1. IDLæ¥å£å®šä¹‰

**æ–‡ä»¶ä½ç½®**: `idl/template/template_publish.thrift`

```thrift
namespace go template_publish

struct PublishAsTemplateRequest {
    1: required i64 agent_id (api.body="agent_id")
    2: required string title (api.body="title") 
    3: optional string description (api.body="description")
    4: optional i64 category_id (api.body="category_id")
    5: optional list<string> labels (api.body="labels")
    6: required bool is_public (api.body="is_public")
    7: optional string cover_uri (api.body="cover_uri") // å°é¢å›¾ç‰‡URI
}

struct PublishAsTemplateResponse {
    1: required i64 template_id
    2: required string status // "pending", "approved", "published" 
    253: required i32 code
    254: required string msg
}

struct GetMyTemplateListRequest {
    1: optional i32 page_num (api.query="page_num")
    2: optional i32 page_size (api.query="page_size")
}

struct GetMyTemplateListResponse {
    1: required list<TemplateInfo> templates
    2: required bool has_more
    3: required i32 total
    253: required i32 code
    254: required string msg
}

struct TemplateInfo {
    1: required i64 template_id
    2: required i64 agent_id
    3: required string title
    4: optional string description
    5: required string status
    6: required i64 created_at
    7: optional i64 heat // ä½¿ç”¨æ¬¡æ•°
}

struct DeleteTemplateRequest {
    1: required i64 template_id (api.path="template_id")
}

struct DeleteTemplateResponse {
    253: required i32 code
    254: required string msg
}

service TemplatePublishService {
    PublishAsTemplateResponse PublishAsTemplate(1: PublishAsTemplateRequest req) 
        (api.post="/api/template/publish")
    
    // è·å–æˆ‘çš„æ¨¡æ¿åˆ—è¡¨
    GetMyTemplateListResponse GetMyTemplateList(1: GetMyTemplateListRequest req)
        (api.get="/api/template/my-list")
        
    // åˆ é™¤æ¨¡æ¿
    DeleteTemplateResponse DeleteTemplate(1: DeleteTemplateRequest req)
        (api.delete="/api/template/{template_id}")
}
```

### 2. åç«¯å®ç°

#### æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

**æ–‡ä»¶ä½ç½®**: `backend/application/template/publish.go`

```go
package template

import (
    "context"
    "fmt"
    "time"
    
    "github.com/coze-dev/coze-studio/backend/api/model/template/template_publish"
    "github.com/coze-dev/coze-studio/backend/application/base/ctxutil"
    "github.com/coze-dev/coze-studio/backend/domain/template/entity"
    "github.com/coze-dev/coze-studio/backend/pkg/lang/ptr"
    "github.com/coze-dev/coze-studio/backend/pkg/logs"
    "github.com/coze-dev/coze-studio/backend/types/consts"
)

func (t *ApplicationService) PublishAsTemplate(ctx context.Context, req *template_publish.PublishAsTemplateRequest) (*template_publish.PublishAsTemplateResponse, error) {
    // 1. éªŒè¯æ™ºèƒ½ä½“æƒé™
    agent, err := t.validateAgentAccess(ctx, req.AgentID)
    if err != nil {
        return nil, err
    }
    
    // 2. æ£€æŸ¥æ˜¯å¦å·²å‘å¸ƒ
    exists, err := t.templateRepo.ExistsByAgentID(ctx, req.AgentID)
    if err != nil {
        return nil, err
    }
    if exists {
        return nil, errorx.New(errno.ErrTemplateAlreadyExistsCode, errorx.KV("msg", "template already published"))
    }
    
    // 3. è½¬æ¢æ•°æ®æ ¼å¼
    templateData, err := t.convertAgentToTemplate(ctx, agent, req)
    if err != nil {
        return nil, err
    }
    
    // 4. ä¿å­˜æ¨¡æ¿æ•°æ®
    templateID, err := t.templateRepo.Create(ctx, templateData)
    if err != nil {
        return nil, err
    }
    
    // 5. å¤„ç†å°é¢å›¾ç‰‡
    if req.CoverUri != nil {
        err = t.processCoverImage(ctx, templateID, *req.CoverUri)
        if err != nil {
            logs.CtxWarnf(ctx, "process cover image failed: %v", err)
        }
    }
    
    return &template_publish.PublishAsTemplateResponse{
        TemplateID: templateID,
        Status: "published", // ç¬¬ä¸€é˜¶æ®µç›´æ¥å‘å¸ƒï¼Œä¸éœ€å®¡æ ¸
        Code: 0,
        Msg: "success",
    }, nil
}

func (t *ApplicationService) validateAgentAccess(ctx context.Context, agentID int64) (*entity.SingleAgent, error) {
    userID := ctxutil.MustGetUIDFromCtx(ctx)
    
    // é€šè¿‡SingleAgentåº”ç”¨æœåŠ¡éªŒè¯æƒé™
    agent, err := t.singleAgentSVC.ValidateAgentDraftAccess(ctx, agentID)
    if err != nil {
        return nil, err
    }
    
    // æ£€æŸ¥æ˜¯å¦å·²å‘å¸ƒ
    if !agent.HasPublished() {
        return nil, errorx.New(errno.ErrAgentNotPublishedCode, errorx.KV("msg", "agent must be published first"))
    }
    
    return agent, nil
}

func (t *ApplicationService) convertAgentToTemplate(ctx context.Context, agent *entity.SingleAgent, req *template_publish.PublishAsTemplateRequest) (*model.Template, error) {
    userID := ctxutil.MustGetUIDFromCtx(ctx)
    
    // è·å–ç”¨æˆ·ä¿¡æ¯
    userInfo, err := t.getUserInfo(ctx, userID)
    if err != nil {
        return nil, err
    }
    
    // æ„å»º meta_info JSON æ•°æ®
    metaInfo := map[string]interface{}{
        "id": fmt.Sprintf("%d", agent.AgentID),
        "name": req.Title,
        "entity_id": fmt.Sprintf("%d", agent.AgentID),
        "entity_type": 21, // BotTemplate
        "entity_version": fmt.Sprintf("%d", time.Now().Unix()),
        "description": ptr.SafeDeref(req.Description),
        "icon_url": agent.IconURI, // ä½¿ç”¨æ™ºèƒ½ä½“çš„å›¾æ ‡
        "is_template": true,
        "is_official": false, // ç”¨æˆ·å‘å¸ƒçš„ä¸æ˜¯å®˜æ–¹æ¨¡æ¿
        "is_free": true,
        "status": 1, // Listed
        "listed_at": fmt.Sprintf("%d", time.Now().Unix()),
        "user_info": map[string]interface{}{
            "user_id": fmt.Sprintf("%d", userID),
            "name": userInfo.Name,
            "avatar_url": userInfo.AvatarURL,
        },
        "labels": req.Labels,
        "heat": 0,
        "favorite_count": 0,
        "is_favorited": false,
    }
    
    // å¦‚æœæœ‰åˆ†ç±»ä¿¡æ¯
    if req.CategoryId != nil {
        category, err := t.getCategoryInfo(ctx, *req.CategoryId)
        if err == nil {
            metaInfo["category"] = map[string]interface{}{
                "id": fmt.Sprintf("%d", *req.CategoryId),
                "name": category.Name,
            }
        }
    }
    
    // å¤„ç†å°é¢ä¿¡æ¯
    covers := []map[string]interface{}{}
    if req.CoverUri != nil {
        covers = append(covers, map[string]interface{}{
            "uri": *req.CoverUri,
            "url": "", // å°†åœ¨processCoverImageä¸­å¤„ç†
        })
    }
    metaInfo["covers"] = covers
    
    return &model.Template{
        AgentID: agent.AgentID,
        SpaceID: consts.TemplateSpaceID, // 999999
        ProductEntityType: 21, // BotTemplate
        MetaInfo: metaInfo,
        Heat: 0,
        CreatedAt: time.Now().UnixMilli(),
    }, nil
}

func (t *ApplicationService) GetMyTemplateList(ctx context.Context, req *template_publish.GetMyTemplateListRequest) (*template_publish.GetMyTemplateListResponse, error) {
    userID := ctxutil.MustGetUIDFromCtx(ctx)
    
    pageNum := ptr.SafeDeref(req.PageNum)
    pageSize := ptr.SafeDerefD(req.PageSize, 20)
    
    filter := &entity.TemplateFilter{
        CreatorID: &userID,
        SpaceID: ptr.Of(int64(consts.TemplateSpaceID)),
    }
    
    pagination := &entity.Pagination{
        Limit: int(pageSize),
        Offset: int(pageNum * pageSize),
    }
    
    templates, total, err := t.templateRepo.List(ctx, filter, pagination, "created_at")
    if err != nil {
        return nil, err
    }
    
    templateInfos := make([]*template_publish.TemplateInfo, 0, len(templates))
    for _, tmpl := range templates {
        info := &template_publish.TemplateInfo{
            TemplateID: tmpl.ID,
            AgentID: tmpl.AgentID,
            Title: tmpl.GetTitle(),
            Description: ptr.Of(tmpl.GetDescription()),
            Status: "published",
            CreatedAt: tmpl.CreatedAt,
            Heat: ptr.Of(tmpl.Heat),
        }
        templateInfos = append(templateInfos, info)
    }
    
    return &template_publish.GetMyTemplateListResponse{
        Templates: templateInfos,
        HasMore: int64(pageNum*pageSize+len(templates)) < total,
        Total: int32(total),
        Code: 0,
        Msg: "success",
    }, nil
}

func (t *ApplicationService) DeleteTemplate(ctx context.Context, req *template_publish.DeleteTemplateRequest) (*template_publish.DeleteTemplateResponse, error) {
    userID := ctxutil.MustGetUIDFromCtx(ctx)
    
    // éªŒè¯æ¨¡æ¿æ‰€æœ‰æƒ
    template, err := t.templateRepo.GetByID(ctx, req.TemplateID)
    if err != nil {
        return nil, err
    }
    
    if template.CreatorID != userID {
        return nil, errorx.New(errno.ErrTemplatePermissionDeniedCode, errorx.KV("msg", "permission denied"))
    }
    
    // åˆ é™¤æ¨¡æ¿
    err = t.templateRepo.Delete(ctx, req.TemplateID)
    if err != nil {
        return nil, err
    }
    
    return &template_publish.DeleteTemplateResponse{
        Code: 0,
        Msg: "success",
    }, nil
}
```

#### Handlerå®ç°

**æ–‡ä»¶ä½ç½®**: `backend/api/handler/template/template_publish_service.go`

```go
// Code generated by hertz generator.

package template

import (
    "context"
    
    "github.com/cloudwego/hertz/pkg/app"
    "github.com/cloudwego/hertz/pkg/protocol/consts"
    
    template_publish "github.com/coze-dev/coze-studio/backend/api/model/template/template_publish"
    "github.com/coze-dev/coze-studio/backend/application/template"
)

// PublishAsTemplate .
// @router /api/template/publish [POST]
func PublishAsTemplate(ctx context.Context, c *app.RequestContext) {
    var err error
    var req template_publish.PublishAsTemplateRequest
    err = c.BindAndValidate(&req)
    if err != nil {
        c.String(consts.StatusBadRequest, err.Error())
        return
    }

    resp, err := template.ApplicationSVC.PublishAsTemplate(ctx, &req)
    if err != nil {
        c.String(consts.StatusInternalServerError, err.Error())
        return
    }

    c.JSON(consts.StatusOK, resp)
}

// GetMyTemplateList .
// @router /api/template/my-list [GET]
func GetMyTemplateList(ctx context.Context, c *app.RequestContext) {
    var err error
    var req template_publish.GetMyTemplateListRequest
    err = c.BindAndValidate(&req)
    if err != nil {
        c.String(consts.StatusBadRequest, err.Error())
        return
    }

    resp, err := template.ApplicationSVC.GetMyTemplateList(ctx, &req)
    if err != nil {
        c.String(consts.StatusInternalServerError, err.Error())
        return
    }

    c.JSON(consts.StatusOK, resp)
}

// DeleteTemplate .
// @router /api/template/{template_id} [DELETE]
func DeleteTemplate(ctx context.Context, c *app.RequestContext) {
    var err error
    var req template_publish.DeleteTemplateRequest
    err = c.BindAndValidate(&req)
    if err != nil {
        c.String(consts.StatusBadRequest, err.Error())
        return
    }

    resp, err := template.ApplicationSVC.DeleteTemplate(ctx, &req)
    if err != nil {
        c.String(consts.StatusInternalServerError, err.Error())
        return
    }

    c.JSON(consts.StatusOK, resp)
}
```

### 3. å‰ç«¯å®ç°

#### æ¨¡æ¿å‘å¸ƒç»„ä»¶

**æ–‡ä»¶ä½ç½®**: `frontend/packages/agent-ide/agent-publish/src/components/template-publish-section.tsx`

```typescript
import React, { useState } from 'react';
import { Card, Switch, Input, Select, Form, Tooltip, Tag, Button } from '@coze-arch/coze-design';
import { IconCozInfoCircle } from '@coze-arch/coze-design/icons';
import { I18n } from '@coze-arch/i18n';

interface TemplatePublishData {
  title: string;
  description: string;
  categoryId: number | null;
  labels: string[];
  isPublic: boolean;
  coverUri?: string;
}

interface TemplatePublishSectionProps {
  agentInfo: {
    id: string;
    name: string;
    description: string;
    iconUrl?: string;
  };
  onToggle: (enabled: boolean, data?: TemplatePublishData) => void;
  disabled?: boolean;
}

const CATEGORIES = [
  { value: 1, label: I18n.t('category_education') }, // å­¦ä¹ æ•™è‚²
  { value: 2, label: I18n.t('category_business') },  // åŠå…¬å•†åŠ¡
  { value: 3, label: I18n.t('category_entertainment') }, // å¨±ä¹ä¼‘é—²
  { value: 4, label: I18n.t('category_life') }, // ç”Ÿæ´»åŠ©æ‰‹
  { value: 5, label: I18n.t('category_creative') }, // åˆ›æ„è®¾è®¡
];

export const TemplatePublishSection: React.FC<TemplatePublishSectionProps> = ({
  agentInfo,
  onToggle,
  disabled = false,
}) => {
  const [publishAsTemplate, setPublishAsTemplate] = useState(false);
  const [templateData, setTemplateData] = useState<TemplatePublishData>({
    title: agentInfo.name,
    description: agentInfo.description || '',
    categoryId: null,
    labels: [],
    isPublic: true,
  });

  const [inputLabel, setInputLabel] = useState('');

  const handleToggle = (checked: boolean) => {
    setPublishAsTemplate(checked);
    onToggle(checked, checked ? templateData : undefined);
  };

  const handleDataChange = (newData: Partial<TemplatePublishData>) => {
    const updatedData = { ...templateData, ...newData };
    setTemplateData(updatedData);
    if (publishAsTemplate) {
      onToggle(true, updatedData);
    }
  };

  const handleAddLabel = () => {
    if (inputLabel.trim() && !templateData.labels.includes(inputLabel.trim())) {
      const newLabels = [...templateData.labels, inputLabel.trim()];
      handleDataChange({ labels: newLabels });
      setInputLabel('');
    }
  };

  const handleRemoveLabel = (labelToRemove: string) => {
    const newLabels = templateData.labels.filter(label => label !== labelToRemove);
    handleDataChange({ labels: newLabels });
  };

  return (
    <Card className="template-publish-section">
      <Card.Header className="flex items-center gap-3">
        <Switch
          checked={publishAsTemplate}
          onChange={handleToggle}
          disabled={disabled}
        />
        <span className="text-base font-medium">
          {I18n.t('publish_as_template')}
        </span>
        <Tooltip content={I18n.t('publish_as_template_tooltip')}>
          <IconCozInfoCircle className="text-gray-500" />
        </Tooltip>
      </Card.Header>

      {publishAsTemplate && (
        <Card.Content className="mt-4 space-y-4">
          <Form.Item
            label={I18n.t('template_title')}
            required
          >
            <Input
              value={templateData.title}
              onChange={title => handleDataChange({ title })}
              placeholder={I18n.t('template_title_placeholder')}
              maxLength={50}
            />
          </Form.Item>

          <Form.Item label={I18n.t('template_description')}>
            <Input.TextArea
              value={templateData.description}
              onChange={description => handleDataChange({ description })}
              placeholder={I18n.t('template_description_placeholder')}
              rows={3}
              maxLength={500}
            />
          </Form.Item>

          <Form.Item label={I18n.t('template_category')}>
            <Select
              value={templateData.categoryId}
              onChange={categoryId => handleDataChange({ categoryId })}
              placeholder={I18n.t('select_category')}
              allowClear
            >
              {CATEGORIES.map(category => (
                <Select.Option key={category.value} value={category.value}>
                  {category.label}
                </Select.Option>
              ))}
            </Select>
          </Form.Item>

          <Form.Item label={I18n.t('template_labels')}>
            <div className="space-y-2">
              <div className="flex gap-2">
                <Input
                  value={inputLabel}
                  onChange={setInputLabel}
                  placeholder={I18n.t('add_label_placeholder')}
                  onPressEnter={handleAddLabel}
                  maxLength={20}
                />
                <Button onClick={handleAddLabel} type="secondary">
                  {I18n.t('add')}
                </Button>
              </div>
              {templateData.labels.length > 0 && (
                <div className="flex flex-wrap gap-2">
                  {templateData.labels.map(label => (
                    <Tag
                      key={label}
                      closable
                      onClose={() => handleRemoveLabel(label)}
                    >
                      {label}
                    </Tag>
                  ))}
                </div>
              )}
            </div>
          </Form.Item>

          <div className="p-3 bg-blue-50 rounded border border-blue-200">
            <p className="text-sm text-blue-700">
              {I18n.t('template_publish_notice')}
            </p>
          </div>
        </Card.Content>
      )}
    </Card>
  );
};
```

#### å‘å¸ƒé¡µé¢é›†æˆ

**æ–‡ä»¶ä½ç½®**: ä¿®æ”¹ç°æœ‰çš„ `frontend/packages/agent-ide/agent-publish/src/components/bot-publish/publish-table/index.tsx`

```typescript
// åœ¨ç°æœ‰å‘å¸ƒç»„ä»¶ä¸­æ·»åŠ æ¨¡æ¿å‘å¸ƒåŠŸèƒ½
import { TemplatePublishSection } from '../../template-publish-section';
import { template_publish } from '@coze-studio/api-schema';

// åœ¨ç»„ä»¶çŠ¶æ€ä¸­æ·»åŠ 
const [templatePublishData, setTemplatePublishData] = useState<{
  enabled: boolean;
  data?: TemplatePublishData;
}>({ enabled: false });

// åœ¨å‘å¸ƒé€»è¾‘ä¸­é›†æˆæ¨¡æ¿å‘å¸ƒ
const handlePublish = async () => {
  try {
    // åŸæœ‰çš„æ™ºèƒ½ä½“å‘å¸ƒé€»è¾‘
    const publishResult = await publishAgent(publishData);
    
    if (!publishResult.success) {
      throw new Error('Agent publish failed');
    }
    
    // å¦‚æœé€‰æ‹©å‘å¸ƒä¸ºæ¨¡æ¿
    if (templatePublishData.enabled && templatePublishData.data) {
      try {
        await template_publish.PublishAsTemplate({
          agent_id: parseInt(bot_id),
          ...templatePublishData.data,
        });
        
        toast.success(I18n.t('publish_success_with_template'));
      } catch (templateError) {
        console.error('Template publish failed:', templateError);
        toast.warning(I18n.t('agent_published_template_failed'));
      }
    } else {
      toast.success(I18n.t('publish_success'));
    }
    
  } catch (error) {
    console.error('Publish failed:', error);
    toast.error(I18n.t('publish_failed'));
  }
};

// åœ¨æ¸²æŸ“ä¸­æ·»åŠ æ¨¡æ¿å‘å¸ƒç»„ä»¶
return (
  <div className="publish-container">
    {/* ç°æœ‰å‘å¸ƒå†…å®¹ */}
    
    <TemplatePublishSection
      agentInfo={{
        id: bot_id,
        name: botInfo?.name || '',
        description: botInfo?.description || '',
        iconUrl: botInfo?.icon_url,
      }}
      onToggle={(enabled, data) => setTemplatePublishData({ enabled, data })}
      disabled={!canPublish}
    />
    
    {/* ç°æœ‰å‘å¸ƒæŒ‰é’®ç­‰ */}
  </div>
);
```

### 4. æ•°æ®åº“æ”¹åŠ¨

**æ•°æ®è¡¨**: ä½¿ç”¨ç°æœ‰çš„ `template` è¡¨ï¼Œä»…éœ€æ·»åŠ ç´¢å¼•

```sql
-- æ·»åŠ å¿…è¦çš„ç´¢å¼•ä»¥æ”¯æŒç”¨æˆ·æ¨¡æ¿æŸ¥è¯¢
ALTER TABLE template ADD COLUMN creator_id bigint DEFAULT 0 COMMENT 'Template creator user ID';
ALTER TABLE template ADD INDEX idx_creator_id (creator_id);
ALTER TABLE template ADD INDEX idx_entity_type_status (product_entity_type, creator_id);
ALTER TABLE template ADD INDEX idx_space_created_at (space_id, created_at DESC);
```

### 5. è·¯ç”±æ³¨å†Œ

**æ–‡ä»¶ä½ç½®**: éœ€è¦åœ¨ `backend/api/router/register.go` çš„ INSERT_POINT å¤„æ·»åŠ è·¯ç”±æ³¨å†Œ

```go
//INSERT_POINT: DO NOT DELETE THIS LINE!
template_publish.Register(r)
```

## ğŸš€ å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µä»»åŠ¡æ¸…å•ï¼ˆåŸºç¡€åŠŸèƒ½ï¼‰

1. **åç«¯å¼€å‘**
   - [ ] åˆ›å»º IDL æ–‡ä»¶ `idl/template/template_publish.thrift`
   - [ ] è¿è¡Œ `hz update` ç”Ÿæˆåç«¯ä»£ç 
   - [ ] å®ç° `backend/application/template/publish.go` ä¸šåŠ¡é€»è¾‘
   - [ ] æ·»åŠ å¿…è¦çš„æ•°æ®åº“ç´¢å¼•
   - [ ] æ·»åŠ è·¯ç”±æ³¨å†Œ

2. **å‰ç«¯å¼€å‘**  
   - [ ] è¿è¡Œ `npm run update` ç”Ÿæˆå‰ç«¯ API ä»£ç 
   - [ ] å®ç° `TemplatePublishSection` ç»„ä»¶
   - [ ] é›†æˆåˆ°ç°æœ‰å‘å¸ƒé¡µé¢
   - [ ] æ·»åŠ ç›¸å…³ i18n æ–‡æœ¬

3. **æµ‹è¯•éªŒè¯**
   - [ ] æ™ºèƒ½ä½“å‘å¸ƒä¸ºæ¨¡æ¿åŠŸèƒ½æµ‹è¯•
   - [ ] æ¨¡æ¿åœ¨æ¨¡æ¿åº“ä¸­æ­£ç¡®æ˜¾ç¤º
   - [ ] æˆ‘çš„æ¨¡æ¿åˆ—è¡¨åŠŸèƒ½æµ‹è¯•
   - [ ] æ¨¡æ¿åˆ é™¤åŠŸèƒ½æµ‹è¯•

### é¢„æœŸå·¥æœŸ

- **åç«¯å¼€å‘**: 2-3å¤©
- **å‰ç«¯å¼€å‘**: 2-3å¤©  
- **è”è°ƒæµ‹è¯•**: 1å¤©
- **æ€»è®¡**: 5-7å¤©

### æŠ€æœ¯é£é™©

- **ä½é£é™©**: åŸºäºç°æœ‰æˆç†Ÿæ¶æ„ï¼Œé£é™©å¯æ§
- **æ³¨æ„äº‹é¡¹**: 
  - ç¡®ä¿æ•°æ®è½¬æ¢é€»è¾‘æ­£ç¡®
  - å‰ç«¯å‘å¸ƒæµç¨‹ç”¨æˆ·ä½“éªŒæµç•…
  - æƒé™éªŒè¯ä¸¥æ ¼

## ğŸ“Š åç»­é˜¶æ®µè§„åˆ’

### ç¬¬äºŒé˜¶æ®µï¼šå®Œå–„åŠŸèƒ½ï¼ˆé¢„è®¡2å‘¨ï¼‰
- æˆ‘çš„æ¨¡æ¿ç®¡ç†é¡µé¢
- æ¨¡æ¿åˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ
- æ¨¡æ¿ä½¿ç”¨ç»Ÿè®¡å’Œåˆ†æ

### ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½ï¼ˆé¢„è®¡3å‘¨ï¼‰  
- æ¨¡æ¿å®¡æ ¸æœºåˆ¶
- æ¨¡æ¿è¯„åˆ†å’Œè¯„è®ºç³»ç»Ÿ
- æ¨¡æ¿æ¨èç®—æ³•

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-01-13  
**æœ€åæ›´æ–°**: 2025-01-13